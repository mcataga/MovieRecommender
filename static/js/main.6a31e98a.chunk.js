(this["webpackJsonprecommender-ui"]=this["webpackJsonprecommender-ui"]||[]).push([[0],{40:function(e,t,n){},51:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),s=n(22),c=n.n(s),o=(n(51),n(40),n(15)),l=n(17),d=n(18),h=n(21),u=n(19),v=["Ant-Man (2015)","Superbad (2007)","21 Jump Street (2012)","Little Miss Sunshine (2006)","Mean Girls (2004)","Deadpool (2016)","Mrs. Doubtfire (1993)","Marriage Story (2019)","La La Land (2016)","500 Days of Summer (2009)","Love Actually (2003)","The Notebook (2004)","Titanic (1997)","Forrest Gump (1994)","The Avengers (2012)","The Shawshank Redemption (1994)","The Dark Knight (2008)","Interstellar (2014)","The Matrix (1999)","Gone Girl (2014)","The Martian (2015)","Finding Nemo (2003)","The Lion King (1994)","Up (2009)","Toy Story (1995)","The Incredibles (2004)","Shrek (2001)","Despicable Me (2010)","Rocky (1976)","Moneyball (2011)","The Blind Side (2009)","Coach Carter (2005)","Creed (2015)","Space Jam (1996)","The Wrestler (2008)"],j=[[3,-1,-1,4,-1,-1,-1,-1,-1,4,-1,-1,-1,-1,3,-1,-1,4,-1,4,-1,-1,-1,-1,-1,-1,-1,-1,4,4,-1,-1,-1,-1,5],[4,4,5,-1,-1,4,-1,-1,4,3,-1,4,2,3,5,-1,4,5,4,-1,-1,3,4,5,4,4,4,5,-1,-1,-1,-1,4,5,-1],[-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,5,-1,5,5,5,-1,5,-1,-1,-1,5,5,5,-1,-1,4,5,-1,5,-1,-1,-1,-1],[4,-1,5,-1,-1,5,-1,-1,-1,-1,-1,2,3,-1,4,-1,5,5,-1,-1,-1,5,5,5,5,5,4,3,-1,-1,5,5,5,5,-1],[-1,5,3,5,3,-1,3,-1,-1,-1,5,5,5,5,4,5,5,-1,4,-1,-1,5,5,5,5,5,5,4,5,5,-1,4,-1,5,5],[4,2,3,4,2,4,2,4,-1,5,-1,3,-1,-1,5,5,-1,5,4,4,4,4,4,-1,-1,3,3,3,-1,5,5,5,-1,4,-1],[-1,3,-1,-1,-1,4,-1,3,3,-1,-1,-1,3,3,1,3,4,4,4,2,2,1,2,-1,2,2,3,-1,5,4,4,3,-1,-1,3],[-1,-1,2,3,2,5,5,3,-1,4,3,-1,-1,1,2,-1,3,-1,4,-1,-1,1,1,2,2,-1,2,-1,5,-1,3,5,-1,4,-1],[-1,-1,4,-1,4,-1,5,5,5,5,-1,-1,3,-1,-1,2,-1,3,-1,2,1,-1,-1,4,3,-1,3,2,4,-1,5,-1,5,5,-1],[4,3,-1,5,5,-1,-1,-1,-1,4,-1,-1,-1,-1,2,3,-1,-1,5,5,4,-1,-1,-1,3,1,3,-1,-1,3,2,-1,1,-1,-1],[-1,3,-1,-1,4,-1,4,2,-1,1,-1,-1,3,-1,2,-1,-1,-1,3,-1,1,5,3,4,-1,5,-1,5,1,-1,2,-1,-1,4,1],[4,4,-1,3,-1,4,-1,4,3,3,-1,-1,5,-1,-1,-1,2,-1,1,2,-1,-1,-1,1,-1,1,-1,-1,3,-1,4,3,-1,-1,4],[1,3,-1,-1,4,-1,5,2,-1,2,1,-1,3,-1,-1,-1,3,-1,1,2,2,3,4,4,4,5,-1,5,2,2,-1,3,1,3,1],[3,-1,1,-1,2,-1,3,3,-1,5,-1,4,4,3,1,1,-1,3,-1,2,2,5,-1,-1,5,3,-1,3,4,-1,4,5,-1,-1,4],[3,3,-1,-1,-1,4,5,-1,2,1,1,3,-1,3,-1,-1,-1,-1,-1,2,-1,3,4,-1,2,-1,2,-1,2,-1,-1,3,3,-1,-1],[5,-1,-1,4,-1,4,3,2,1,3,-1,-1,3,-1,2,-1,3,3,3,2,1,5,-1,4,-1,5,5,3,3,4,4,5,5,-1,-1],[1,-1,-1,5,1,-1,1,-1,-1,2,-1,2,5,-1,3,3,5,-1,5,-1,5,2,3,2,-1,2,-1,1,-1,-1,-1,-1,-1,-1,-1],[-1,4,-1,5,-1,5,-1,4,3,4,-1,-1,-1,-1,-1,3,-1,4,3,-1,5,4,4,3,-1,5,-1,5,1,-1,-1,3,2,-1,-1],[1,2,-1,-1,2,-1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,-1,3,4,4,5,-1,3,4,3],[4,4,3,4,5,-1,-1,-1,2,3,2,2,3,-1,-1,2,3,3,2,3,-1,-1,-1,3,5,4,4,3,2,-1,3,1,1,2,3],[1,2,-1,3,2,-1,2,-1,4,3,4,-1,2,-1,3,-1,-1,5,4,1,-1,2,-1,-1,2,3,-1,3,3,4,5,4,5,4,5],[4,4,5,4,3,-1,4,5,4,3,5,4,5,4,2,-1,3,3,-1,2,-1,4,3,3,-1,-3,2,-1,1,-1,2,-1,3,-1,1],[4,3,5,4,3,3,4,5,4,3,5,3,5,4,2,-1,3,3,-1,2,-1,2,3,3,-1,-3,2,-1,1,-1,2,-1,3,-1,1]],m=["KnightsofNi11","Siam","MR_Heraclius","Mico","RogerEbert","Alton","michaeltrivedi","tomyum43","snailLover","exoSuit","jsx1220","34Herbert","matLAber"," HulkRo"," egomemo4","edamemes2","airpods555","max6345","trex53","tornad0","sportlovaMON","romComB0y","rommyCommyMan"],f=n(67),g=n(44),b=n(70),p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleOnClick=function(e){a.setState({position:e.target.dataset.id},(function(){console.log(a.state.position)}))},a.handleCalculations=function(){console.log(a.ratings[a.state.position]),a.doCalcs(a.ratings[a.state.position])},a.doCalcs=function(e){for(var t=[],n=0;n<j.length;n++){var i=a.findSimilarity(j[n],e);t.push(i)}var r=a.getUsersWithPosScore(t);console.log("Similarity Scores: "+t.toString()),console.log("Users with Sim Scores > 0: "+r.toString());for(var s=new Map,c=0;c<e.length;c++){var l=void 0;if(-1==e[c]){var d=a.calcNumAndDenRecommender(r,t,c);l=d[0]/d[1],s.set(c,l)}}var h=new Map(Object(o.a)(s.entries()).sort((function(e,t){return t[1]-e[1]}))),u=[],m=[];h.forEach((function(e,t){console.log("Predicted Rating for Movie "+v[t]+" is "+e),u.push(t),m.push(e)})),a.setState({recommendedMovies:[].concat(Object(o.a)(a.state.recommendedMovies),u),values:[].concat(Object(o.a)(a.state.values),m)},(function(){a.setState({calculate:!0},(function(){console.log("yay concurrency")}))})),console.log("Content Profile: "+a.getUserContentProfile(e)),a.generateSimMatrix()},a.generateSimMatrix=function(){for(var e=[],t=0;t<j.length;t++){for(var n=[],i=0;i<j.length;i++)n.push(a.findSimilarity(j[t],j[i]));e.push(n)}},a.filterRatingsAboveFour=function(e){var t=new Map;return e.forEach((function(e,n){e>=4&&t.set(n,e)})),t},a.getUserContentProfile=function(e){for(var t=0,n=0,a=0,i=0,r=0,s=0,c=0,o=0,l=0,d=0,h=0;h<7;h++)-1!=e[h]&&(t+=e[h],n++);for(var u=7;u<14;u++)-1!=e[u]&&(a+=e[u],i++);for(var v=14;v<21;v++)-1!=e[v]&&(r+=e[v],s++);for(var j=21;j<28;j++)-1!=e[j]&&(c+=e[j],o++);for(var m=28;m<35;m++)-1!=e[m]&&(l+=e[m],d++);return[t/n/5,a/i/5,r/s/5,c/o/5,l/d/5]},a.calcNumAndDenRecommender=function(e,t,n){for(var a=0,i=0,r=0;r<e.length;r++)if(-1!=j[e[r]][n]){var s=t[e[r]];a+=s*j[e[r]][n],i+=s}return[a,i]},a.getUsersWithPosScore=function(e){for(var t=[],n=0;n<e.length;n++)e[n]>0&&t.push(n);return t},a.findSimilarity=function(e,t){var n=a.findCommonMovies(e,t),i=a.getRatingsForCommonMovies(e,n),r=a.getRatingsForCommonMovies(t,n),s=a.getAverageRating(i),c=a.getAverageRating(r),o=a.calcNumAndDen(i,r,s,c);return 0==o[0]||0==o[1]?0:o[0]/o[1]},a.calcNumAndDen=function(e,t,n,a){for(var i=0,r=0,s=0,c=0;c<e.length;c++)i+=(e[c]-n)*(t[c]-a),r+=Math.pow(e[c]-n,2),s+=Math.pow(t[c]-a,2);return[i,Math.sqrt(r*s)]},a.getAverageRating=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length},a.getRatingsForCommonMovies=function(e,t){for(var n=[],a=0;a<t.length;a++)n.push(e[t[a]]);return n},a.findCommonMovies=function(e,t){for(var n=[],a=0;a<e.length;a++)-1!=e[a]&&-1!=t[a]&&n.push(a);return n},a.state={position:0,calculate:!1,recommendedMovies:[],values:[]},a.movieList=v,a.ratings=j,a.users=m,a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return this.state.calculate?this.state.calculate?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"centerWee1",children:this.users[this.state.position]+"'s Ratings"}),Object(a.jsx)("div",{className:"finesse",children:this.ratings[this.state.position].filter((function(e){return-1!=e})).map((function(t,n){return Object(a.jsx)(b.a,{style:{width:"18rem"},children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Title,{children:e.movieList[n]}),Object(a.jsx)(b.a.Text,{className:"mb-2 text-muted",children:e.users[e.state.position]+" rated this movie a "+t})]})},n)}))}),Object(a.jsx)("h2",{className:"centerWee",children:"Based on your ratings we'd recommend these movies..."}),Object(a.jsx)("div",{className:"finesse",children:this.state.recommendedMovies.map((function(t,n){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"card-container",children:Object(a.jsx)(b.a,{style:{width:"30rem"},children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Img,{variant:"top",src:"/movie-recommender/"+t+".jpg"}),Object(a.jsx)(b.a.Title,{children:v[t]}),Object(a.jsxs)(b.a.Text,{children:["Your predicted rating for this movie is ",e.state.values[n]]})]})})})},n)}))})]}):void 0:Object(a.jsx)("div",{className:"nav-container",children:Object(a.jsxs)("div",{className:"centerFriends",children:[Object(a.jsxs)(f.a,{children:[Object(a.jsx)(f.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Choose User Dropdown Menu"}),Object(a.jsx)(f.a.Menu,{children:this.users.map((function(t,n){return Object(a.jsx)("div",{children:Object(a.jsx)(f.a.Item,{href:"#/action-1","data-id":n,onClick:function(t){e.handleOnClick(t)},children:t})},n)}))})]}),Object(a.jsx)(g.a,{className:"calc-button",as:"input",type:"button",value:"Run Calculations",onClick:this.handleCalculations})]})})}}]),n}(r.a.Component),O=n(66),x=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.props.getValue(e.target.value),e.preventDefault()},a.handleClick2=function(e){a.setState({active:1}),e.preventDefault()},a.handleClick3=function(e){a.setState({active:2}),e.preventDefault()},a.handleClick4=function(e){a.setState({active:3}),e.preventDefault()},a.handleClick5=function(e){a.setState({active:4}),e.preventDefault()},a.handleClick6=function(e){a.setState({active:5}),e.preventDefault()},a.handleClick7=function(e){a.setState({active:6}),e.preventDefault()},a.handleClick8=function(e){a.setState({active:7}),e.preventDefault()},a.state={active:null},a}return Object(d.a)(n,[{key:"render",value:function(){var e={backgroundColor:"deeppink"},t={backgroundColor:"#007bff"};return Object(a.jsx)("div",{className:"rating-container",children:Object(a.jsx)("div",{className:"Body",children:Object(a.jsx)("div",{className:"rating-field",children:Object(a.jsxs)(O.a,{type:"radio",name:"options",defaultValue:1,onClick:this.handleClick,children:[Object(a.jsx)(g.a,{value:-1,onClick:this.handleClick2,style:1===this.state.active?e:t,children:"Haven't Watched"}),Object(a.jsx)(g.a,{value:0,onClick:this.handleClick3,style:2===this.state.active?e:t,children:"0"}),Object(a.jsx)(g.a,{value:1,onClick:this.handleClick4,style:3===this.state.active?e:t,children:"1"}),Object(a.jsx)(g.a,{value:2,onClick:this.handleClick5,style:4===this.state.active?e:t,children:"2"}),Object(a.jsx)(g.a,{value:3,onClick:this.handleClick6,style:5===this.state.active?e:t,children:"3"}),Object(a.jsx)(g.a,{value:4,onClick:this.handleClick7,style:6===this.state.active?e:t,children:"4"}),Object(a.jsx)(g.a,{value:5,onClick:this.handleClick8,style:7===this.state.active?e:t,children:"5"})]})})})})}}]),n}(r.a.Component),C=(r.a.Component,function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleValue=function(e,t){a.setState((function(n){return{position:[].concat(Object(o.a)(n.position),[t]),data:[].concat(Object(o.a)(n.data),[e])}})),console.log(a.state),console.log(e+" "+t)},a.displayData=function(){console.log(a.state.data);for(var e=new Map,t=0;t<a.state.position.length;t++)console.log(t+" "+a.state.position[t]+" "+a.state.data[t]),e[a.state.position[t]]=a.state.data[t];for(var n=0;n<35;n++)null==e[n]&&(e[n]=-1);for(var i=[],r=0;r<35;r++)i.push(parseInt(e[r]));console.log(i),console.log(e.toString()+"THIS TEST MAP"),a.doCalcs(i)},a.doCalcs=function(e){for(var t=[],n=0;n<j.length;n++){var i=a.findSimilarity(j[n],e);t.push(i)}var r=a.getUsersWithPosScore(t);console.log("Similarity Scores: "+t.toString()),console.log("Users with Sim Scores > 0: "+r.toString());for(var s=new Map,c=0;c<e.length;c++){var l=void 0;if(-1==e[c]){var d=a.calcNumAndDenRecommender(r,t,c);l=d[0]/d[1],s.set(c,l)}}var h=new Map(Object(o.a)(s.entries()).sort((function(e,t){return t[1]-e[1]}))),u=[],m=[];h.forEach((function(e,t){console.log("Predicted Rating for Movie "+v[t]+" is "+e),u.push(t),m.push(e)})),a.setState({recommendedMovies:[].concat(Object(o.a)(a.state.recommendedMovies),u),values:[].concat(Object(o.a)(a.state.values),m)},(function(){a.setState({isVisible:!1},(function(){console.log("yay concurrency")}))})),console.log("Content Profile: "+a.getUserContentProfile(e)),a.generateSimMatrix()},a.generateSimMatrix=function(){for(var e=[],t=0;t<j.length;t++){for(var n=[],i=0;i<j.length;i++)n.push(a.findSimilarity(j[t],j[i]));e.push(n)}},a.filterRatingsAboveFour=function(e){var t=new Map;return e.forEach((function(e,n){e>=4&&t.set(n,e)})),t},a.getUserContentProfile=function(e){for(var t=0,n=0,a=0,i=0,r=0,s=0,c=0,o=0,l=0,d=0,h=0;h<7;h++)-1!=e[h]&&(t+=e[h],n++);for(var u=7;u<14;u++)-1!=e[u]&&(a+=e[u],i++);for(var v=14;v<21;v++)-1!=e[v]&&(r+=e[v],s++);for(var j=21;j<28;j++)-1!=e[j]&&(c+=e[j],o++);for(var m=28;m<35;m++)-1!=e[m]&&(l+=e[m],d++);return[t/n/5,a/i/5,r/s/5,c/o/5,l/d/5]},a.calcNumAndDenRecommender=function(e,t,n){for(var a=0,i=0,r=0;r<e.length;r++)if(-1!=j[e[r]][n]){var s=t[e[r]];a+=s*j[e[r]][n],i+=s}return[a,i]},a.getUsersWithPosScore=function(e){for(var t=[],n=0;n<e.length;n++)e[n]>0&&t.push(n);return t},a.findSimilarity=function(e,t){var n=a.findCommonMovies(e,t),i=a.getRatingsForCommonMovies(e,n),r=a.getRatingsForCommonMovies(t,n),s=a.getAverageRating(i),c=a.getAverageRating(r),o=a.calcNumAndDen(i,r,s,c);return 0==o[0]||0==o[1]?0:o[0]/o[1]},a.calcNumAndDen=function(e,t,n,a){for(var i=0,r=0,s=0,c=0;c<e.length;c++)i+=(e[c]-n)*(t[c]-a),r+=Math.pow(e[c]-n,2),s+=Math.pow(t[c]-a,2);return[i,Math.sqrt(r*s)]},a.getAverageRating=function(e){for(var t=0,n=0;n<e.length;n++)t=e[n]+t;var a=t/e.length;return a>6e3&&(console.log(a),console.log("OVCER 6000"),console.log(e)),a},a.getRatingsForCommonMovies=function(e,t){for(var n=[],a=0;a<t.length;a++)n.push(e[t[a]]);return n},a.findCommonMovies=function(e,t){for(var n=[],a=0;a<e.length;a++)-1!=e[a]&&-1!=t[a]&&n.push(a);return n},a.state={position:[],data:[],recommendedMovies:[],values:[],isVisible:!0},a.movieList=v,a.ratings=j,a}return Object(d.a)(n,[{key:"test",value:function(e,t){var n=this;if(t>-1&&t<3||t>6&&t<10||t>13&&t<17||t>20&&t<24||t>27&&t<31)return Object(a.jsx)("div",{className:"card-container",children:Object(a.jsx)(b.a,{style:{width:"30rem"},children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Img,{variant:"top",src:"/movie-recommender/"+t+".jpg"}),Object(a.jsx)(b.a.Title,{children:e}),Object(a.jsx)(b.a.Text,{children:"Please rate the movie from the following ratings, 0 being worst and 5 being best."}),Object(a.jsx)(x,{class:"rating-box",getValue:function(e){return n.handleValue(e,t)}})]})})})}},{key:"render",value:function(){var e=this;return this.state.isVisible?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"finesse",children:this.movieList.map((function(t,n){return Object(a.jsx)("div",{children:e.test(t,n)},n)}))}),Object(a.jsx)("div",{className:"YERRRRRR",children:Object(a.jsx)(g.a,{variant:"danger",className:"BARERATINGSFAM",onClick:this.displayData,children:"SUBMIT RATINGS"})})]}):this.state.isVisible?void 0:(console.log(this.state.recommendedMovies),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"finesse",children:this.state.recommendedMovies.map((function(t,n){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"card-container",children:Object(a.jsx)(b.a,{style:{width:"30rem"},children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Img,{variant:"top",src:"/movie-recommender/"+t+".jpg"}),Object(a.jsx)(b.a.Title,{children:v[t]}),Object(a.jsxs)(b.a.Text,{children:["Your predicted rating for this movie is ",e.state.values[n]]})]})})})},n)}))})}))}}]),n}(r.a.Component)),S=n(68),M=n(69),y=n(29);var k=function(){return Object(a.jsx)("div",{className:"Body",children:Object(a.jsxs)(S.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(a.jsx)(S.a.Brand,{href:"/",children:"MovieRecommender"}),Object(a.jsx)(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsx)(S.a.Collapse,{id:"responsive-navbar-nav",children:Object(a.jsxs)(M.a,{className:"mr-auto",children:[Object(a.jsx)(y.b,{to:"/newCalc",children:Object(a.jsx)(M.a.Link,{href:"/newCalc",children:"New User Calculation"})}),Object(a.jsx)(y.b,{to:"/existingCalc",children:Object(a.jsx)(M.a.Link,{href:"/existingCalc",children:"Existing User Calculation"})})]})})]})})},R=n(7);var N=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(k,{}),Object(a.jsx)("header",{className:"parent-app-header",children:Object(a.jsx)("h1",{className:"app-header",children:"Recommender User Interface"})}),Object(a.jsxs)(R.c,{children:[Object(a.jsx)(R.a,{path:"/",exact:!0,component:C}),Object(a.jsx)(R.a,{exact:!0,path:"/newCalc",component:C}),Object(a.jsx)(R.a,{path:"/existingCalc",component:p})]})]})})};n(60);c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6a31e98a.chunk.js.map